<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Career Categories - Zawadi Careers</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="assets/images/zawadi-logo.png">
    <style>
        /* Your existing styles remain the same */
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            width: 100%;
        }
        
        .categories-hero {
            background: linear-gradient(135deg, #0a2540 0%, #1a365d 100%);
            color: white;
            padding: 60px 16px;
            text-align: center;
            width: 100%;
        }
        
        .categories-hero h1 {
            font-size: clamp(28px, 8vw, 48px);
            margin-bottom: 16px;
            line-height: 1.2;
            word-wrap: break-word;
        }
        
        .categories-hero p {
            font-size: clamp(14px, 4vw, 18px);
            max-width: 600px;
            margin: 0 auto 20px;
            opacity: 0.9;
            padding: 0 10px;
            word-wrap: break-word;
        }
        
        .categories-grid-detailed {
            display: grid;
            grid-template-columns: minmax(0, 1fr);
            gap: 20px;
            padding: 40px 16px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .category-card-detailed {
            background: white;
            border-radius: 20px;
            padding: 24px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid transparent;
            width: 100%;
            overflow: hidden;
        }
        
        .category-card-detailed:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border-color: #0066cc;
        }
        
        .category-icon-large {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #0066cc 0%, #00b3ff 100%);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 28px;
            color: white;
            flex-shrink: 0;
        }
        
        .category-content {
            width: 100%;
            overflow: hidden;
        }
        
        .category-content h2 {
            font-size: clamp(20px, 6vw, 24px);
            margin-bottom: 12px;
            color: #1a202c;
            line-height: 1.3;
            word-wrap: break-word;
        }
        
        .category-description {
            color: #4a5568;
            margin-bottom: 20px;
            line-height: 1.5;
            font-size: clamp(14px, 4vw, 16px);
            word-wrap: break-word;
        }
        
        .category-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 20px;
            padding: 12px 0;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .stat-item {
            text-align: center;
            min-width: 0;
        }
        
        .stat-number {
            display: block;
            font-size: clamp(18px, 5vw, 24px);
            font-weight: 700;
            color: #0066cc;
            margin-bottom: 4px;
            line-height: 1.2;
            word-wrap: break-word;
        }
        
        .stat-label {
            font-size: clamp(11px, 3vw, 14px);
            color: #718096;
            word-wrap: break-word;
        }
        
        .category-topics {
            margin-bottom: 20px;
            width: 100%;
        }
        
        .category-topics h4 {
            font-size: 16px;
            margin-bottom: 12px;
            color: #2d3748;
        }
        
        .topics-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .topic-tag {
            background: #edf2f7;
            padding: 6px 12px;
            border-radius: 30px;
            font-size: clamp(12px, 3.5vw, 14px);
            color: #4a5568;
            white-space: nowrap;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .category-action {
            text-align: center;
            width: 100%;
        }
        
        .btn-explore-category {
            background: linear-gradient(90deg, #0066cc 0%, #00b3ff 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 600;
            font-size: clamp(14px, 4vw, 16px);
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            max-width: 280px;
            white-space: nowrap;
        }
        
        .btn-explore-category:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 102, 204, 0.2);
        }
        
        .category-articles {
            padding: 40px 16px;
            background: #f7fafc;
            width: 100%;
        }
        
        .articles-container {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .articles-header {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .articles-header h2 {
            font-size: clamp(24px, 6vw, 32px);
            color: #1a202c;
            margin: 0;
            word-wrap: break-word;
        }
        
        .articles-filter {
            display: flex;
            gap: 8px;
            width: 100%;
            overflow-x: auto;
            padding-bottom: 5px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .filter-btn.active {
            background: #0066cc;
            color: white;
            border-color: #0066cc;
        }
        
        .articles-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            width: 100%;
        }
        
        .article-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            width: 100%;
        }
        
        .article-card:hover {
            transform: translateY(-5px);
        }
        
        .article-image {
            height: 160px;
            background: linear-gradient(135deg, #0066cc 0%, #00b3ff 100%);
            position: relative;
            width: 100%;
        }
        
        .article-category {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(255, 255, 255, 0.95);
            color: #0066cc;
            padding: 6px 12px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 600;
            z-index: 2;
            max-width: calc(100% - 24px);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .article-content {
            padding: 16px;
        }
        
        .article-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #718096;
            margin-bottom: 8px;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .article-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 8px;
            line-height: 1.4;
            word-wrap: break-word;
        }
        
        .article-excerpt {
            font-size: 14px;
            color: #4a5568;
            margin-bottom: 12px;
            line-height: 1.5;
            word-wrap: break-word;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .article-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid #e2e8f0;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .read-time {
            font-size: 12px;
            color: #718096;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .read-more {
            color: #0066cc;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Search Modal Styles */
        .search-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow-y: auto;
        }
        
        .search-modal.active {
            display: block;
        }
        
        .search-container {
            max-width: 800px;
            margin: 80px auto 20px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .search-header {
            padding: 20px;
            background: linear-gradient(135deg, #0a2540 0%, #1a365d 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .search-header h2 {
            margin: 0;
            font-size: 24px;
        }
        
        .close-search {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .close-search:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .search-input-wrapper {
            padding: 20px;
            background: #f7fafc;
        }
        
        .search-input-group {
            display: flex;
            gap: 10px;
            background: #374151;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            transition: border-color 0.3s;
        }
        
        .search-input-group:focus-within {
            border-color: #0066cc;
        }
        
        .search-input-group input {
            flex: 1;
            padding: 15px;
            border: none;
            outline: none;
            font-size: 16px;
        }
        
        .search-input-group button {
            background: #0066cc;
            color: white;
            border: none;
            padding: 0 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s;
        }
        
        .search-input-group button:hover {
            background: #0052a3;
        }
        
        .search-filters {
            padding: 15px 20px;
            background: #f7fafc;
            border-top: 1px solid #e2e8f0;
        }
        
        .filter-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .search-filter-btn {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 30px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .search-filter-btn.active {
            background: #0066cc;
            color: white;
            border-color: #0066cc;
        }
        
        .search-results {
            padding: 20px;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .search-result-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid #e2e8f0;
            text-decoration: none;
            color: inherit;
            transition: background 0.3s;
        }
        
        .search-result-item:hover {
            background: #f7fafc;
        }
        
        .result-image {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            background: linear-gradient(135deg, #0066cc 0%, #00b3ff 100%);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }
        
        .result-content {
            flex: 1;
            min-width: 0;
        }
        
        .result-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 5px;
            word-wrap: break-word;
        }
        
        .result-category {
            font-size: 12px;
            color: #0066cc;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .result-excerpt {
            font-size: 13px;
            color: #718096;
            line-height: 1.4;
            word-wrap: break-word;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .no-search-results {
            text-align: center;
            padding: 40px 20px;
            color: #718096;
        }
        
        .no-search-results i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #cbd5e0;
        }
        
        .search-loading {
            text-align: center;
            padding: 40px;
            color: #718096;
        }
        
        .search-loading i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #0066cc;
        }
        
        /* Category-specific colors */
        .category-1 .category-icon-large {
            background: linear-gradient(135deg, #0066cc 0%, #00b3ff 100%);
        }
        
        .category-2 .category-icon-large {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        }
        
        .category-3 .category-icon-large {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
        }
        
        .category-4 .category-icon-large {
            background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);
        }
        
        .category-5 .category-icon-large {
            background: linear-gradient(135deg, #ef4444 0%, #f87171 100%);
        }
        
        .category-6 .category-icon-large {
            background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
        }
        
        .category-7 .category-icon-large {
            background: linear-gradient(135deg, #14b8a6 0%, #2dd4bf 100%);
        }
        
        .no-articles {
            text-align: center;
            padding: 40px 20px;
            width: 100%;
            word-wrap: break-word;
        }
        
        .no-articles i {
            font-size: 48px;
            color: #cbd5e0;
            margin-bottom: 16px;
        }
        
        .no-articles h3 {
            color: #4a5568;
            margin-bottom: 8px;
            font-size: clamp(18px, 5vw, 20px);
        }
        
        .no-articles p {
            color: #718096;
            font-size: clamp(14px, 4vw, 16px);
        }
        
        /* Mobile Bottom Navigation */
        .mobile-bottom-nav {
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: white;
            padding: 8px 12px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            border-top: 1px solid #e2e8f0;
        }
        
        .nav-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #4b5563;
            font-size: 12px;
            gap: 4px;
            padding: 4px 0;
            flex: 1;
            max-width: 70px;
            cursor: pointer;
        }
        
        .nav-icon i {
            font-size: 20px;
        }
        
        .nav-icon.active {
            color: #0066cc;
        }
        
        .nav-icon span {
            font-size: 11px;
            white-space: nowrap;
        }
        
        /* Footer */
        .footer {
            margin-bottom: 70px;
        }
        
        /* Tablet and up */
        @media (min-width: 768px) {
            .categories-hero {
                padding: 80px 20px;
            }
            
            .categories-grid-detailed {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 30px;
                padding: 60px 20px;
            }
            
            .category-card-detailed {
                padding: 40px;
            }
            
            .articles-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .articles-header {
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
            }
            
            .btn-explore-category {
                width: auto;
            }
            
            .mobile-bottom-nav {
                display: none;
            }
            
            .footer {
                margin-bottom: 0;
            }
            
            .search-container {
                margin: 100px auto 30px;
            }
        }
        
        /* Desktop */
        @media (min-width: 1024px) {
            .articles-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        /* Small phones */
        @media (max-width: 380px) {
            .category-stats {
                gap: 4px;
            }
            
            .stat-number {
                font-size: 16px;
            }
            
            .stat-label {
                font-size: 10px;
            }
            
            .topic-tag {
                padding: 4px 8px;
                font-size: 11px;
            }
            
            .category-icon-large {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .search-input-group {
                flex-direction: column;
            }
            
            .search-input-group button {
                padding: 12px;
            }
            
            .result-image {
                width: 60px;
                height: 60px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation (Same as index.html) -->
    <nav class="navbar">
        <!-- Same navigation as index.html -->
    </nav>

    <!-- Categories Hero -->
    <section class="categories-hero">
        <div class="container">
            <h1>Career Development Categories</h1>
            <p>Explore structured content organized by career stages and specific needs. Each category provides targeted resources to guide your professional journey.</p>
        </div>
    </section>

    <!-- Category Details -->
    <section class="categories-grid-detailed" id="categoryDetails">
        <!-- Categories will be loaded here based on URL parameter -->
    </section>

    <!-- Articles in Category -->
    <section class="category-articles">
        <div class="articles-container">
            <div class="articles-header">
                <h2>Latest Articles</h2>
                <div class="articles-filter">
                    <button class="filter-btn active">Latest</button>
                    <button class="filter-btn">Popular</button>
                    <button class="filter-btn">Most Read</button>
                </div>
            </div>
            <div class="articles-grid" id="categoryArticles">
                <!-- Articles will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Search Modal -->
    <div id="searchModal" class="search-modal">
        <div class="search-container">
            <div class="search-header">
                <h2><i class="fas fa-search"></i> Search Articles & Blogs</h2>
                <button class="close-search" onclick="closeSearch()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="search-input-wrapper">
                <div class="search-input-group">
                    <input type="text" id="searchInput" placeholder="Search for articles, topics, or keywords..." autocomplete="off">
                    <button onclick="performSearch()">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </button>
                </div>
            </div>
            <div class="search-filters">
                <div class="filter-tabs">
                    <button class="search-filter-btn active" onclick="filterSearch('all')">All</button>
                    <button class="search-filter-btn" onclick="filterSearch('articles')">Articles</button>
                    <button class="search-filter-btn" onclick="filterSearch('blogs')">Blogs</button>
                </div>
            </div>
            <div class="search-results" id="searchResults">
                <!-- Search results will be displayed here -->
                <div class="search-loading" style="display: none;" id="searchLoading">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Searching...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <div class="mobile-bottom-nav">
        <a href="index.html" class="nav-icon">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="blog.html" class="nav-icon">
            <i class="fas fa-blog"></i>
            <span>Blog</span>
        </a>
        <a href="categories.html" class="nav-icon active">
            <i class="fas fa-th-large"></i>
            <span>Categories</span>
        </a>
        <a href="#" class="nav-icon">
            <i class="fas fa-bookmark"></i>
            <span>Saved</span>
        </a>
        <a href="#" class="nav-icon" onclick="openSearch(); return false;">
            <i class="fas fa-search"></i>
            <span>Search</span>
        </a>
    </div>

    <!-- Desktop Search Button (if needed) -->
    <button onclick="openSearch()" class="desktop-search-btn" style="display: none;">Search</button>

    <!-- Footer (Same as index.html) -->
    <footer class="footer">
        <!-- Same footer as index.html -->
    </footer>

    <script src="js/supabase.js" type="module"></script>
    <script src="js/main.js" type="module"></script>
    <script type="module">
    import supabase from './js/supabase.js';
    
    const categories = {
        'career-clarity': {
            id: 1,
            title: 'Career Clarity & Exploration',
            icon: 'fas fa-search',
            description: 'Discover your career path, understand different industries, and make informed career decisions with our comprehensive guidance and industry insights.',
            stats: {
                articles: 45,
                reads: '12K+',
                duration: '3-5 min'
            },
            topics: ['Career Assessment', 'Industry Research', 'Decision Making', 'Path Exploration', 'Self-Discovery']
        },
        'skill-development': {
            id: 2,
            title: 'Skill Development & Learning',
            icon: 'fas fa-laptop-code',
            description: 'Master in-demand skills with practical guides, learning roadmaps, and actionable strategies for professional growth in the African market.',
            stats: {
                articles: 78,
                reads: '25K+',
                duration: '5-7 min'
            },
            topics: ['Technical Skills', 'Soft Skills', 'Learning Paths', 'Online Courses', 'Certifications']
        },
        'job-search': {
            id: 3,
            title: 'Job Search & Career Advancement',
            icon: 'fas fa-briefcase',
            description: 'Navigate your job search successfully with CV guidance, interview preparation, career switching strategies, and workplace growth techniques.',
            stats: {
                articles: 62,
                reads: '18K+',
                duration: '4-6 min'
            },
            topics: ['CV Writing', 'Interview Prep', 'Networking', 'Career Switch', 'Promotion']
        },
        'opportunities': {
            id: 4,
            title: 'Opportunities & Openings',
            icon: 'fas fa-star',
            description: 'Access curated job listings, internships, graduate programs, and company spotlights specifically tailored for the African job market.',
            stats: {
                articles: '120+',
                reads: '35K+',
                duration: '2-4 min'
            },
            topics: ['Job Alerts', 'Internships', 'Graduate Programs', 'Company Reviews', 'Application Tips']
        },
        'professionals': {
            id: 5,
            title: 'Professionals & Leadership',
            icon: 'fas fa-user-tie',
            description: 'Advance your career with leadership development resources, workplace effectiveness strategies, and professional growth frameworks.',
            stats: {
                articles: 54,
                reads: '15K+',
                duration: '6-8 min'
            },
            topics: ['Leadership', 'Management', 'Productivity', 'Career Growth', 'Work-Life Balance']
        },
        'companies': {
            id: 6,
            title: 'Companies & Employers',
            icon: 'fas fa-building',
            description: 'Gain insights into employer expectations, hiring best practices, and what companies look for in talent across various industries.',
            stats: {
                articles: 36,
                reads: '8K+',
                duration: '4-5 min'
            },
            topics: ['Employer Insights', 'Hiring Trends', 'Company Culture', 'Talent Needs', 'Industry Demand']
        },
        'stories': {
            id: 7,
            title: 'Stories, Mentorship & Insights',
            icon: 'fas fa-book-open',
            description: 'Learn from real career journeys, mentorship advice, and personal insights that provide practical lessons and inspiration.',
            stats: {
                articles: 89,
                reads: '30K+',
                duration: '7-10 min'
            },
            topics: ['Career Stories', 'Mentorship', 'Lessons Learned', 'Success Stories', 'Challenges']
        }
    };
    
    document.addEventListener('DOMContentLoaded', async function() {
        // Get category from URL
        const urlParams = new URLSearchParams(window.location.search);
        const categoryParam = urlParams.get('category') || 'career-clarity';
        
        const category = categories[categoryParam];
        
        if (category) {
            // Update page title
            document.title = `${category.title} - Zawadi Careers`;
            
            // Load category details
            loadCategoryDetails(category);
            
            // Load category articles
            await loadCategoryArticles(category.id);
        }

        // Add search input event listener for real-time search (optional)
        document.getElementById('searchInput')?.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    });
    
    function loadCategoryDetails(category) {
        const container = document.getElementById('categoryDetails');
        
        container.innerHTML = `
            <div class="category-card-detailed category-${category.id}">
                <div class="category-icon-large">
                    <i class="${category.icon}"></i>
                </div>
                <div class="category-content">
                    <h2>${category.title}</h2>
                    <p class="category-description">${category.description}</p>
                    
                    <div class="category-stats">
                        <div class="stat-item">
                            <span class="stat-number">${category.stats.articles}</span>
                            <span class="stat-label">Articles</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">${category.stats.reads}</span>
                            <span class="stat-label">Total Reads</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">${category.stats.duration}</span>
                            <span class="stat-label">Avg Read Time</span>
                        </div>
                    </div>
                    
                    <div class="category-topics">
                        <h4>Key Topics Covered</h4>
                        <div class="topics-list">
                            ${category.topics.map(topic => `
                                <span class="topic-tag">${topic}</span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="category-action">
                        <button class="btn-explore-category" onclick="loadAllCategoryArticles(${category.id})">
                            <i class="fas fa-book-open"></i>
                            Explore All Articles
                        </button>
                    </div>
                </div>
            </div>
        `;
    }
    
    async function loadCategoryArticles(categoryId) {
        try {
            const { data: articles, error } = await supabase
                .from('blogs')
                .select('*')
                .eq('category_id', categoryId)
                .order('created_at', { ascending: false })
                .limit(6);
            
            if (error) throw error;
            
            const container = document.getElementById('categoryArticles');
            
            if (articles && articles.length > 0) {
                container.innerHTML = articles.map(article => {
                    // Get the image URL - adjust this based on your database field name
                    const imageUrl = article.image_url || article.thumbnail || article.featured_image || null;
                    
                    // Generate a consistent color based on category ID for fallback
                    const categoryColors = {
                        1: 'linear-gradient(135deg, #0066cc 0%, #00b3ff 100%)',
                        2: 'linear-gradient(135deg, #10b981 0%, #34d399 100%)',
                        3: 'linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)',
                        4: 'linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%)',
                        5: 'linear-gradient(135deg, #ef4444 0%, #f87171 100%)',
                        6: 'linear-gradient(135deg, #ec4899 0%, #f472b6 100%)',
                        7: 'linear-gradient(135deg, #14b8a6 0%, #2dd4bf 100%)'
                    };
                    
                    const fallbackGradient = categoryColors[article.category_id] || 'linear-gradient(135deg, #0066cc 0%, #00b3ff 100%)';
                    
                    // Get category name for display
                    const categoryName = getCategoryName(article.category_id);
                    
                    // Get first letter of title for fallback icon
                    const titleFirstLetter = article.title ? article.title.charAt(0).toUpperCase() : 'A';
                    
                    return `
                        <div class="article-card">
                            <div class="article-image" style="background: ${imageUrl ? `url('${imageUrl}')` : fallbackGradient}; background-size: cover; background-position: center; position: relative;">
                                ${!imageUrl ? `
                                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; color: white; font-size: 48px; font-weight: bold; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">
                                        ${titleFirstLetter}
                                    </div>
                                ` : ''}
                                <div class="article-category">${categoryName}</div>
                            </div>
                            <div class="article-content">
                                <div class="article-meta">
                                    <span><i class="far fa-calendar-alt"></i> ${new Date(article.created_at).toLocaleDateString()}</span>
                                    <span><i class="far fa-clock"></i> ${article.read_time || '5'} min read</span>
                                </div>
                                <h3 class="article-title">${article.title}</h3>
                                <p class="article-excerpt">${article.excerpt || (article.content ? article.content.substring(0, 150) : 'No description available')}...</p>
                                <div class="article-footer">
                                    <span class="read-time">
                                        <i class="fas fa-clock"></i>
                                        ${article.read_time || '5'} min
                                    </span>
                                    <a href="blog-detail.html?id=${article.id}" class="read-more">
                                        Read More
                                        <i class="fas fa-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                container.innerHTML = `
                    <div class="no-articles">
                        <i class="fas fa-newspaper"></i>
                        <h3>No articles yet</h3>
                        <p>Check back soon for new content in this category!</p>
                    </div>
                `;
            }
            
        } catch (error) {
            console.error('Error loading category articles:', error);
            const container = document.getElementById('categoryArticles');
            container.innerHTML = `
                <div class="no-articles">
                    <i class="fas fa-exclamation-circle"></i>
                    <h3>Error loading articles</h3>
                    <p>Please try again later.</p>
                </div>
            `;
        }
    }
    
    function getCategoryName(categoryId) {
        const categoryMap = {
            1: 'Career Clarity',
            2: 'Skill Development',
            3: 'Job Search',
            4: 'Opportunities',
            5: 'Professionals',
            6: 'Companies',
            7: 'Stories'
        };
        
        return categoryMap[categoryId] || 'General';
    }
    
    // Make function available globally
    window.loadAllCategoryArticles = async function(categoryId) {
        // Load all articles for the category
        window.location.href = `blog.html?category=${Object.keys(categories).find(key => categories[key].id === categoryId)}`;
    };
    </script>

    <!-- Search Functionality Script -->
    <!-- Search Functionality Script - Updated to work with Supabase -->
    <!-- Search Functionality Script - Integrated with your existing code -->
<script type="module">
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

// Initialize Supabase client
const supabaseUrl = 'https://xtubniixvmwluwybbpos.supabase.co';
const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0dWJuaWl4dm13bHV3eWJicG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1ODc4MDUsImV4cCI6MjA4NjE2MzgwNX0.P278_vaPqKyPcjlaFVqmFHJC6OcqZU30gk2b5SyCOI4';

const supabase = createClient(supabaseUrl, supabaseAnonKey);

// Category mapping
const categoryMap = {
    1: 'Career Clarity',
    2: 'Skill Development',
    3: 'Job Search',
    4: 'Opportunities',
    5: 'Professionals',
    6: 'Companies',
    7: 'Stories'
};

// Search state variables (matching your script pattern)
let currentSearchTerm = '';
let currentFilter = 'all';
let currentPage = 1;
let totalResults = 0;
let allArticles = [];

// Open search modal
window.openSearch = function() {
    const modal = document.getElementById('searchModal');
    if (!modal) return;
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
    
    // Clear previous results
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    if (searchInput) {
        searchInput.value = '';
        currentSearchTerm = '';
    }
    if (searchResults) searchResults.innerHTML = '';
    
    // Reset filter buttons
    document.querySelectorAll('.search-filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector('[onclick="filterSearch(\'all\')"]')?.classList.add('active');
    currentFilter = 'all';
    
    // Focus on input
    setTimeout(() => {
        if (searchInput) searchInput.focus();
    }, 100);
    
    // Load recent articles
    loadRecentArticles();
};

// Close search modal
window.closeSearch = function() {
    const modal = document.getElementById('searchModal');
    if (!modal) return;
    
    modal.classList.remove('active');
    document.body.style.overflow = '';
    
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    if (searchInput) searchInput.value = '';
    if (searchResults) searchResults.innerHTML = '';
    currentSearchTerm = '';
};

// Load recent articles (like your loadBlogPosts but for search modal)
async function loadRecentArticles() {
    try {
        const searchResults = document.getElementById('searchResults');
        if (!searchResults) return;
        
        searchResults.innerHTML = `
            <div class="search-loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading recent articles...</p>
            </div>
        `;

        const { data: articles, error } = await supabase
            .from('blogs')
            .select('*')
            .eq('status', 'published')
            .order('created_at', { ascending: false })
            .limit(10);

        if (error) throw error;

        allArticles = articles || [];
        
        if (articles && articles.length > 0) {
            displaySearchResults(articles, 'Recent Articles');
        } else {
            searchResults.innerHTML = `
                <div class="no-search-results">
                    <i class="fas fa-newspaper"></i>
                    <h3>No articles yet</h3>
                    <p>Check back soon for new content!</p>
                </div>
            `;
        }
    } catch (error) {
        console.error('Error loading recent articles:', error);
        const searchResults = document.getElementById('searchResults');
        if (searchResults) {
            searchResults.innerHTML = `
                <div class="no-search-results">
                    <i class="fas fa-exclamation-circle"></i>
                    <h3>Error loading articles</h3>
                    <p>Please try again later.</p>
                </div>
            `;
        }
    }
}

// Perform search (matching your performSearch function pattern)
window.performSearch = async function() {
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    
    if (!searchInput || !searchResults) return;
    
    const searchTerm = searchInput.value.trim();
    currentSearchTerm = searchTerm;
    currentPage = 1; // Reset to first page
    
    if (!searchTerm) {
        loadRecentArticles();
        return;
    }

    // Show loading state
    searchResults.innerHTML = `
        <div class="search-loading">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Searching for "${searchTerm}"...</p>
        </div>
    `;

    try {
        // Search in multiple fields (like your loadBlogPosts pattern)
        const { data: articles, error } = await supabase
            .from('blogs')
            .select('*')
            .eq('status', 'published')
            .or(`title.ilike.%${searchTerm}%,excerpt.ilike.%${searchTerm}%,content.ilike.%${searchTerm}%`)
            .order('created_at', { ascending: false });

        if (error) throw error;

        allArticles = articles || [];
        totalResults = articles?.length || 0;
        
        if (articles && articles.length > 0) {
            displaySearchResults(articles, `Search Results for "${searchTerm}" (${totalResults})`);
        } else {
            searchResults.innerHTML = `
                <div class="no-search-results">
                    <i class="fas fa-search"></i>
                    <h3>No articles found for "${searchTerm}"</h3>
                    <p>Try searching with different keywords</p>
                    <button onclick="document.getElementById('searchInput').value = ''; loadRecentArticles();" 
                            style="margin-top: 15px; padding: 8px 20px; background: #0066cc; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Clear Search
                    </button>
                </div>
            `;
        }
    } catch (error) {
        console.error('Error searching articles:', error);
        searchResults.innerHTML = `
            <div class="no-search-results">
                <i class="fas fa-exclamation-circle"></i>
                <h3>Error performing search</h3>
                <p>Please try again later.</p>
            </div>
        `;
    }
};

// Filter search results (matching your filter pattern)
window.filterSearch = function(filter, event) {
    if (!event) {
        // Find the button if event not provided
        const buttons = document.querySelectorAll('.search-filter-btn');
        buttons.forEach(btn => {
            if (btn.getAttribute('onclick')?.includes(filter)) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
    } else {
        // Update active filter button
        document.querySelectorAll('.search-filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }
    
    currentFilter = filter;
    
    if (allArticles.length > 0) {
        displaySearchResults(allArticles, currentFilter === 'all' ? 'All Results' : `${filter.charAt(0).toUpperCase() + filter.slice(1)} Results`);
    }
};

// Display search results
function displaySearchResults(articles, title = 'Search Results') {
    const searchResults = document.getElementById('searchResults');
    if (!searchResults) return;

    if (!articles || articles.length === 0) {
        searchResults.innerHTML = `
            <div class="no-search-results">
                <i class="fas fa-search"></i>
                <h3>No articles found</h3>
                <p>Try searching with different keywords</p>
            </div>
        `;
        return;
    }

    // Apply filter if not 'all' (you can customize this based on your data structure)
    let filteredArticles = articles;
    if (currentFilter !== 'all') {
        // Example: filter by article type if you have that field
        // filteredArticles = articles.filter(article => article.type === currentFilter);
        // For now, just show all
        filteredArticles = articles;
    }

    const categoryColors = {
        1: 'linear-gradient(135deg, #0066cc 0%, #00b3ff 100%)',
        2: 'linear-gradient(135deg, #10b981 0%, #34d399 100%)',
        3: 'linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)',
        4: 'linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%)',
        5: 'linear-gradient(135deg, #ef4444 0%, #f87171 100%)',
        6: 'linear-gradient(135deg, #ec4899 0%, #f472b6 100%)',
        7: 'linear-gradient(135deg, #14b8a6 0%, #2dd4bf 100%)'
    };

    searchResults.innerHTML = `
        <div style="padding: 10px 15px; background: #edf2f7; border-radius: 8px; margin-bottom: 15px; font-weight: 600; color: #2d3748;">
            <i class="fas fa-search" style="margin-right: 8px;"></i>
            ${title} (${filteredArticles.length})
        </div>
        ${filteredArticles.map(article => {
            const categoryName = categoryMap[article.category_id] || 'General';
            const fallbackGradient = categoryColors[article.category_id] || 'linear-gradient(135deg, #0066cc 0%, #00b3ff 100%)';
            const imageUrl = article.image_url || article.thumbnail || article.featured_image || null;
            const titleFirstLetter = article.title ? article.title.charAt(0).toUpperCase() : 'A';

            return `
                <a href="blog-detail.html?id=${article.id}" class="search-result-item" onclick="closeSearch()">
                    <div class="result-image" style="background: ${imageUrl ? `url('${imageUrl}') center/cover no-repeat` : fallbackGradient}; display: flex; align-items: center; justify-content: center;">
                        ${!imageUrl ? `<span style="color: white; font-weight: bold; font-size: 24px;">${titleFirstLetter}</span>` : ''}
                    </div>
                    <div class="result-content">
                        <div class="result-title">${article.title}</div>
                        <div class="result-category">${categoryName}</div>
                        <div class="result-excerpt">${article.excerpt || (article.content ? article.content.replace(/<[^>]*>/g, '').substring(0, 120) + '...' : 'No description available')}</div>
                        <div style="font-size: 11px; color: #a0aec0; margin-top: 5px;">
                            <i class="far fa-calendar-alt"></i> ${new Date(article.created_at).toLocaleDateString()} â€¢ 
                            <i class="far fa-clock"></i> ${article.read_time || '5'} min read
                        </div>
                    </div>
                </a>
            `;
        }).join('')}
    `;
}

// Add suggestions container to the modal (if not present)
function addSuggestionsContainer() {
    const searchInputWrapper = document.querySelector('.search-input-wrapper');
    if (searchInputWrapper && !document.getElementById('suggestionsContainer')) {
        const suggestionsDiv = document.createElement('div');
        suggestionsDiv.id = 'suggestionsContainer';
        suggestionsDiv.className = 'suggestions-container';
        suggestionsDiv.style.cssText = `
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 5px;
        `;
        searchInputWrapper.style.position = 'relative';
        searchInputWrapper.appendChild(suggestionsDiv);
    }
}

// Setup event listeners
document.addEventListener('DOMContentLoaded', function() {
    // Add suggestions container
    addSuggestionsContainer();
    
    const modal = document.getElementById('searchModal');
    const searchInput = document.getElementById('searchInput');
    
    if (modal) {
        modal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSearch();
            }
        });
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeSearch();
        }
    });

    // Setup search input for real-time suggestions and Enter key
    if (searchInput) {
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                performSearch();
            }
        });
    }

    // Initialize filter buttons
    const filterButtons = document.querySelectorAll('.search-filter-btn');
    filterButtons.forEach(btn => {
        btn.addEventListener('click', function(e) {
            const filter = this.getAttribute('onclick')?.match(/'([^']+)'/)?.[1] || 'all';
            filterSearch(filter, e);
        });
    });
});

// Make category name function available globally
window.getCategoryName = function(categoryId) {
    return categoryMap[categoryId] || 'General';
};
</script>


</body>
</html>