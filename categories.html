<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Categories - Zawadi Careers</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="assets/images/zawadi-logo.png">
    <style>
        .categories-hero {
            background: linear-gradient(135deg, #0a2540 0%, #1a365d 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
        }
        
        .categories-hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .categories-hero p {
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }
        
        .categories-grid-detailed {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .category-card-detailed {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid transparent;
        }
        
        .category-card-detailed:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border-color: #0066cc;
        }
        
        .category-icon-large {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #0066cc 0%, #00b3ff 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            font-size: 32px;
            color: white;
        }
        
        .category-content h2 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #1a202c;
        }
        
        .category-description {
            color: #4a5568;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .category-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            padding: 15px 0;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
        }
        
        .stat-number {
            display: block;
            font-size: 24px;
            font-weight: 700;
            color: #0066cc;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #718096;
        }
        
        .category-topics {
            margin-bottom: 25px;
        }
        
        .category-topics h4 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #2d3748;
        }
        
        .topics-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .topic-tag {
            background: #edf2f7;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            color: #4a5568;
        }
        
        .category-action {
            text-align: center;
        }
        
        .btn-explore-category {
            background: linear-gradient(90deg, #0066cc 0%, #00b3ff 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-explore-category:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 102, 204, 0.2);
        }
        
        .category-articles {
            padding: 60px 20px;
            background: #f7fafc;
        }
        
        .articles-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .articles-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .articles-header h2 {
            font-size: 32px;
            color: #1a202c;
        }
        
        .articles-filter {
            display: flex;
            gap: 10px;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn.active {
            background: #0066cc;
            color: white;
            border-color: #0066cc;
        }
        
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .article-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .article-card:hover {
            transform: translateY(-5px);
        }
        
        .article-image {
            height: 180px;
            background: #e2e8f0;
            position: relative;
        }
        
        .article-category {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(0, 102, 204, 0.9);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .article-content {
            padding: 20px;
        }
        
        .article-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #718096;
            margin-bottom: 10px;
        }
        
        .article-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .article-excerpt {
            font-size: 14px;
            color: #4a5568;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .article-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #e2e8f0;
        }
        
        .read-time {
            font-size: 12px;
            color: #718096;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .read-more {
            color: #0066cc;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Category-specific colors */
        .category-1 .category-icon-large {
            background: linear-gradient(135deg, #0066cc 0%, #00b3ff 100%);
        }
        
        .category-2 .category-icon-large {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        }
        
        .category-3 .category-icon-large {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
        }
        
        .category-4 .category-icon-large {
            background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);
        }
        
        .category-5 .category-icon-large {
            background: linear-gradient(135deg, #ef4444 0%, #f87171 100%);
        }
        
        .category-6 .category-icon-large {
            background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
        }
        
        .category-7 .category-icon-large {
            background: linear-gradient(135deg, #14b8a6 0%, #2dd4bf 100%);
        }
        
        @media (max-width: 768px) {
            .categories-hero h1 {
                font-size: 36px;
            }
            
            .categories-grid-detailed {
                grid-template-columns: 1fr;
                padding: 40px 20px;
            }
            
            .articles-grid {
                grid-template-columns: 1fr;
            }
            
            .articles-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation (Same as index.html) -->
    <nav class="navbar">
        <!-- Same navigation as index.html -->
    </nav>

    <!-- Categories Hero -->
    <section class="categories-hero">
        <div class="container">
            <h1>Career Development Categories</h1>
            <p>Explore structured content organized by career stages and specific needs. Each category provides targeted resources to guide your professional journey.</p>
        </div>
    </section>

    <!-- Category Details -->
    <section class="categories-grid-detailed" id="categoryDetails">
        <!-- Categories will be loaded here based on URL parameter -->
    </section>

    <!-- Articles in Category -->
    <section class="category-articles">
        <div class="articles-container">
            <div class="articles-header">
                <h2>Latest Articles</h2>
                <div class="articles-filter">
                    <button class="filter-btn active">Latest</button>
                    <button class="filter-btn">Popular</button>
                    <button class="filter-btn">Most Read</button>
                </div>
            </div>
            <div class="articles-grid" id="categoryArticles">
                <!-- Articles will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Mobile Bottom Navigation -->
    <div class="mobile-bottom-nav">
        <a href="index.html" class="nav-icon">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="blog.html" class="nav-icon">
            <i class="fas fa-blog"></i>
            <span>Blog</span>
        </a>
        <a href="categories.html" class="nav-icon active">
            <i class="fas fa-th-large"></i>
            <span>Categories</span>
        </a>
        <a href="#" class="nav-icon">
            <i class="fas fa-bookmark"></i>
            <span>Saved</span>
        </a>
        <a href="#" class="nav-icon">
            <i class="fas fa-search"></i>
            <span>Search</span>
        </a>
    </div>

    <!-- Footer (Same as index.html) -->
    <footer class="footer">
        <!-- Same footer as index.html -->
    </footer>

    <script src="js/supabase.js" type="module"></script>
    <script src="js/main.js" type="module"></script>
    <script type="module">
        import supabase from './js/supabase.js';
        
        const categories = {
            'career-clarity': {
                id: 1,
                title: 'Career Clarity & Exploration',
                icon: 'fas fa-search',
                description: 'Discover your career path, understand different industries, and make informed career decisions with our comprehensive guidance and industry insights.',
                stats: {
                    articles: 45,
                    reads: '12K+',
                    duration: '3-5 min'
                },
                topics: ['Career Assessment', 'Industry Research', 'Decision Making', 'Path Exploration', 'Self-Discovery']
            },
            'skill-development': {
                id: 2,
                title: 'Skill Development & Learning',
                icon: 'fas fa-laptop-code',
                description: 'Master in-demand skills with practical guides, learning roadmaps, and actionable strategies for professional growth in the African market.',
                stats: {
                    articles: 78,
                    reads: '25K+',
                    duration: '5-7 min'
                },
                topics: ['Technical Skills', 'Soft Skills', 'Learning Paths', 'Online Courses', 'Certifications']
            },
            'job-search': {
                id: 3,
                title: 'Job Search & Career Advancement',
                icon: 'fas fa-briefcase',
                description: 'Navigate your job search successfully with CV guidance, interview preparation, career switching strategies, and workplace growth techniques.',
                stats: {
                    articles: 62,
                    reads: '18K+',
                    duration: '4-6 min'
                },
                topics: ['CV Writing', 'Interview Prep', 'Networking', 'Career Switch', 'Promotion']
            },
            'opportunities': {
                id: 4,
                title: 'Opportunities & Openings',
                icon: 'fas fa-star',
                description: 'Access curated job listings, internships, graduate programs, and company spotlights specifically tailored for the African job market.',
                stats: {
                    articles: '120+',
                    reads: '35K+',
                    duration: '2-4 min'
                },
                topics: ['Job Alerts', 'Internships', 'Graduate Programs', 'Company Reviews', 'Application Tips']
            },
            'professionals': {
                id: 5,
                title: 'Professionals & Leadership',
                icon: 'fas fa-user-tie',
                description: 'Advance your career with leadership development resources, workplace effectiveness strategies, and professional growth frameworks.',
                stats: {
                    articles: 54,
                    reads: '15K+',
                    duration: '6-8 min'
                },
                topics: ['Leadership', 'Management', 'Productivity', 'Career Growth', 'Work-Life Balance']
            },
            'companies': {
                id: 6,
                title: 'Companies & Employers',
                icon: 'fas fa-building',
                description: 'Gain insights into employer expectations, hiring best practices, and what companies look for in talent across various industries.',
                stats: {
                    articles: 36,
                    reads: '8K+',
                    duration: '4-5 min'
                },
                topics: ['Employer Insights', 'Hiring Trends', 'Company Culture', 'Talent Needs', 'Industry Demand']
            },
            'stories': {
                id: 7,
                title: 'Stories, Mentorship & Insights',
                icon: 'fas fa-book-open',
                description: 'Learn from real career journeys, mentorship advice, and personal insights that provide practical lessons and inspiration.',
                stats: {
                    articles: 89,
                    reads: '30K+',
                    duration: '7-10 min'
                },
                topics: ['Career Stories', 'Mentorship', 'Lessons Learned', 'Success Stories', 'Challenges']
            }
        };
        
        document.addEventListener('DOMContentLoaded', async function() {
            // Get category from URL
            const urlParams = new URLSearchParams(window.location.search);
            const categoryParam = urlParams.get('category') || 'career-clarity';
            
            const category = categories[categoryParam];
            
            if (category) {
                // Update page title
                document.title = `${category.title} - Zawadi Careers`;
                
                // Load category details
                loadCategoryDetails(category);
                
                // Load category articles
                await loadCategoryArticles(category.id);
            }
        });
        
        function loadCategoryDetails(category) {
            const container = document.getElementById('categoryDetails');
            
            container.innerHTML = `
                <div class="category-card-detailed category-${category.id}">
                    <div class="category-icon-large">
                        <i class="${category.icon}"></i>
                    </div>
                    <div class="category-content">
                        <h2>${category.title}</h2>
                        <p class="category-description">${category.description}</p>
                        
                        <div class="category-stats">
                            <div class="stat-item">
                                <span class="stat-number">${category.stats.articles}</span>
                                <span class="stat-label">Articles</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">${category.stats.reads}</span>
                                <span class="stat-label">Total Reads</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">${category.stats.duration}</span>
                                <span class="stat-label">Avg Read Time</span>
                            </div>
                        </div>
                        
                        <div class="category-topics">
                            <h4>Key Topics Covered</h4>
                            <div class="topics-list">
                                ${category.topics.map(topic => `
                                    <span class="topic-tag">${topic}</span>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="category-action">
                            <button class="btn-explore-category" onclick="loadAllCategoryArticles(${category.id})">
                                <i class="fas fa-book-open"></i>
                                Explore All Articles
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }
        
        async function loadCategoryArticles(categoryId) {
            try {
                const { data: articles, error } = await supabase
                    .from('blogs')
                    .select('*')
                    .eq('category_id', categoryId)
                    .order('created_at', { ascending: false })
                    .limit(6);
                
                if (error) throw error;
                
                const container = document.getElementById('categoryArticles');
                
                if (articles && articles.length > 0) {
                    container.innerHTML = articles.map(article => `
                        <div class="article-card">
                            <div class="article-image">
                                <div class="article-category">${getCategoryName(article.category_id)}</div>
                            </div>
                            <div class="article-content">
                                <div class="article-meta">
                                    <span>${new Date(article.created_at).toLocaleDateString()}</span>
                                    <span>${article.read_time || '5'} min read</span>
                                </div>
                                <h3 class="article-title">${article.title}</h3>
                                <p class="article-excerpt">${article.excerpt || article.content.substring(0, 150)}...</p>
                                <div class="article-footer">
                                    <span class="read-time">
                                        <i class="fas fa-clock"></i>
                                        ${article.read_time || '5'} min
                                    </span>
                                    <a href="blog-detail.html?id=${article.id}" class="read-more">
                                        Read More
                                        <i class="fas fa-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = `
                        <div class="no-articles" style="grid-column: 1/-1; text-align: center; padding: 40px;">
                            <i class="fas fa-newspaper" style="font-size: 48px; color: #cbd5e0; margin-bottom: 20px;"></i>
                            <h3 style="color: #4a5568; margin-bottom: 10px;">No articles yet</h3>
                            <p style="color: #718096;">Check back soon for new content in this category!</p>
                        </div>
                    `;
                }
                
            } catch (error) {
                console.error('Error loading category articles:', error);
            }
        }
        
        function getCategoryName(categoryId) {
            const categoryMap = {
                1: 'Career Clarity',
                2: 'Skill Development',
                3: 'Job Search',
                4: 'Opportunities',
                5: 'Professionals',
                6: 'Companies',
                7: 'Stories'
            };
            
            return categoryMap[categoryId] || 'General';
        }
        
        // Make function available globally
        window.loadAllCategoryArticles = async function(categoryId) {
            // Load all articles for the category
            window.location.href = `blog.html?category=${Object.keys(categories).find(key => categories[key].id === categoryId)}`;
        };
    </script>
</body>
</html>